# Feature Implementation

## Feature Details
- **ID**: player-damage-to-enemies
- **Title**: Allow player bullets to damage enemies, reducing their HP and eventually destroying them
- **Category**: functional

## Description
Allow player bullets to damage enemies, reducing their HP and eventually destroying them

## Project Context
- **Platform**: Vite React (Web)
- **Frontend Root**: /app/vitereact
- **Backend Root**: /app/backend

### Web App Requirements
- Use React DOM components (no React Native primitives)
- Keep changes within the existing Vite boilerplate

## Verification Steps
1. Shoot bullets at various enemy types
2. Verify enemies take damage from bullet hits
3. Confirm enemies are destroyed when HP reaches zero
4. Check that different enemies have different HP amounts

## Instructions
1. **Explore**: Review the existing codebase structure and patterns
2. **Plan**: Design your implementation approach
3. **Implement (frontend first)**: Deliver visible UI before backend wiring
   - UI First: Build screens/components with mock data and polished styling
   - Types Second: Add/adjust shared types/interfaces used by the UI and API
   - Backend Last: Implement API/database changes and wire the UI to real data
4. **Test**: Verify the feature works as expected
5. **Update**: Mark feature as "passes": true in feature_list.json
6. **Commit**: Use message "feat(functional): Allow player bullets to damage enemies, reducing their HP and eventually destroying them"

## Important
- Implement ONLY this specific feature (ID: player-damage-to-enemies)
- Do NOT modify features already marked as passes: true
- Follow existing code patterns and conventions
- Maintain backward compatibility
- Update feature_list.json to set "passes": true when complete

## AI Integration (LaunchPulse AI Proxy)

This project has AI integration enabled. Use the LaunchPulse AI wrapper for all AI/LLM operations.

### ⚠️ CRITICAL CONSTRAINTS - DO NOT VIOLATE
- **DO NOT** run `npm install openai` or any AI SDK
- **DO NOT** add OPENAI_API_KEY or any AI provider keys to .env

**WHY**: AI is ALREADY configured through LaunchPulse proxy.

### Available AI Components
- **./__create/ai** - OpenAI-compatible API wrapper
- **./hooks/useAI** - Hooks: `useChat()` and `useAsk()`

### Usage
```typescript
import { ai } from './__create/ai';
const answer = await ai.ask('Question here');

import { useChat } from './hooks/useAI';
const { messages, send } = useChat();
```

### Environment Variables (Auto-Injected)
- `VITE_LAUNCHPULSE_AI_KEY`
- `VITE_LAUNCHPULSE_PROJECT_ID`
- `VITE_LAUNCHPULSE_API_URL`


## Database Integration (PostgreSQL via OpenCode Tools)

This project has a PostgreSQL database connected. You have access to database tools:

### Available Database Tools
- **query_database** - Execute SQL queries (SELECT, INSERT, UPDATE, DELETE). Returns rows and row count.
- **list_tables** - List all tables in the public schema
- **describe_table** - Get column information for a specific table (name, type, nullable, default)

### Usage Examples
```
// List all tables
Use the list_tables tool

// Describe a table
Use the describe_table tool with table_name: "users"

// Run a query
Use the query_database tool with sql: "SELECT * FROM users LIMIT 5"
```

### Database Info
- Database: app_you_are_an_expert_game_dev_1768666029562
- Host: ep-steep-pine-a4cw7wfv.us-east-1.aws.neon.tech

### Schema & Initialization (Generated Apps)
- Schema file (from backend boilerplate): `/app/backend/db.sql`
- Apply schema: `cd /app/backend && node initdb.js` (uses DATABASE_URL)
- Add queries/endpoints in `/app/backend/server.ts` using the existing `pool` from `pg`

### ⚠️ IMPORTANT
- Always use parameterized queries for user input to prevent SQL injection
- The database connection uses the project's DATABASE_URL (already configured)
- These tools connect directly to the user's Neon PostgreSQL database
